Packages applications into container images using
link:https://buildah.io[buildah].

buildah builds a container image from the `docker-dir` directory using the
provided `dockerfile`.
The following `--build-arg` parameters are provided to enable convenient access
to Nexus:

* nexusUrl=${NEXUS_URL}
* nexusUsername=Escaped(${NEXUS_USERNAME})
* nexusPassword=Escaped(${NEXUS_PASSWORD})
* nexusHost=Host(${NEXUS_URL})
* nexusAuth=${nexusUsername}:$(nexusPassword)
* nexusUrlWithAuth=${nexusUrl.withAuth($nexusAuth)}

The above is adhoc notation meant to be more clear than a bunch of words.
If no nexusUsername/nexusPassword are defined nexusAuth will be empty and
nexusUrlWithAuth is equal to nexusUrl.

By default, the image is named after the component and pushed into the image
stream located in the namespace of the pipeline run.

An SBOM of the image is created using link:https://aquasecurity.github.io/trivy/v0.47/docs/[Trivy].

If the parameter `cosign-key` is specified, the image is signed with this key using link:https://docs.sigstore.dev/signing/quickstart/[cosign], and an attestation for the generated SBOM will be attached to the image.

Processes tags specified in the `extra-tags` parameter and adds missing tags to
the images stream in the namespace of the pipeline run.

The following artifacts are generated by the task and placed into `.ods/artifacts/`

* `image-digests/`
  ** `<image-name>.json`
  ** `<image-name>-<tag>.json` for each extra-tag
* `sboms/`
  ** `<image-name>.spdx`

